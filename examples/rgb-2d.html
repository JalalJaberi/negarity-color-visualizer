<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RGB Chromaticity Diagram - Negarity Color Visualizer</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .example-section {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .visualizer-container {
            width: 100%;
            height: 600px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin: 20px 0;
        }
        .controls {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .controls h3 {
            margin-top: 0;
            color: #333;
        }
        .control-group {
            margin-bottom: 15px;
        }
        .control-group label {
            display: inline-block;
            width: 100px;
            font-weight: 500;
            color: #555;
        }
        .control-group input {
            width: 80px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 10px;
        }
        .controls button {
            padding: 10px 20px;
            margin: 5px;
            background: #007cba;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .controls button:hover {
            background: #005a87;
        }
        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .preset-buttons button {
            background: #6c757d;
        }
        .preset-buttons button:hover {
            background: #5a6268;
        }
        .info {
            background: #e7f3ff;
            border-left: 4px solid #007cba;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .info p {
            margin: 5px 0;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>RGB Chromaticity Diagram</h1>
        <p class="subtitle">CIE xy Color Space Visualization</p>
        
        <div class="info">
            <p><strong>What is this?</strong></p>
            <p>This visualization shows the RGB color gamut in CIE xy chromaticity space. The triangle represents all colors that can be displayed using RGB. The point shows where your selected color appears in this space.</p>
            <p><strong>How to use:</strong> Enter RGB values (0-255) and click "Update Point" to see where that color appears in the gamut.</p>
        </div>

        <div class="example-section">
            <div id="chromaticity-visualizer" class="visualizer-container"></div>
            
            <div class="controls">
                <h3>Color Point Controls</h3>
                <div class="control-group">
                    <label>Red (R):</label>
                    <input type="number" id="r-value" min="0" max="255" value="255">
                    <label>Green (G):</label>
                    <input type="number" id="g-value" min="0" max="255" value="100">
                    <label>Blue (B):</label>
                    <input type="number" id="b-value" min="0" max="255" value="50">
                    <button onclick="updateFromInputs()">Update Point</button>
                </div>
                
                <h3>Preset Colors</h3>
                <div class="preset-buttons">
                    <button onclick="setColor(255, 0, 0, 'Pure Red')">Pure Red</button>
                    <button onclick="setColor(0, 255, 0, 'Pure Green')">Pure Green</button>
                    <button onclick="setColor(0, 0, 255, 'Pure Blue')">Pure Blue</button>
                    <button onclick="setColor(255, 255, 0, 'Yellow')">Yellow</button>
                    <button onclick="setColor(255, 0, 255, 'Magenta')">Magenta</button>
                    <button onclick="setColor(0, 255, 255, 'Cyan')">Cyan</button>
                    <button onclick="setColor(255, 255, 255, 'White')">White</button>
                    <button onclick="setColor(128, 128, 128, 'Gray')">Gray</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/examples/chromaticity-demo.ts"></script>
    <script>
        function updateFromInputs() {
            const r = parseInt(document.getElementById('r-value').value) || 0;
            const g = parseInt(document.getElementById('g-value').value) || 0;
            const b = parseInt(document.getElementById('b-value').value) || 0;
            
            if (window.updatePoint) {
                window.updatePoint(r, g, b, `RGB(${r}, ${g}, ${b})`);
            }
        }
        
        function setColor(r, g, b, label) {
            document.getElementById('r-value').value = r;
            document.getElementById('g-value').value = g;
            document.getElementById('b-value').value = b;
            
            if (window.updatePoint) {
                window.updatePoint(r, g, b, label);
            }
        }
    </script>
</body>
</html>
